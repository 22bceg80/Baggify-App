<!-- <%- include('./partials/header') %>

<div class="min-h-screen flex items-center justify-center bg-gray-100 py-12 px-4">
    <div class="bg-white p-8 rounded shadow w-full max-w-2xl">
        <h2 class="text-2xl font-semibold mb-6">Update Product</h2>

        <form action="/owners/products/update/<%= product._id %>" method="POST" enctype="multipart/form-data" class="space-y-6">
            <div>
                <label class="block mb-1 font-medium">Current Image</label>
                <img src="/<%= product.image %>" class="w-48 h-48 object-contain rounded" alt="Current Image" />
            </div>

            <div>
                <label class="block mb-1 font-medium">New Image</label>
                <input type="file" name="image" class="w-full border p-2 rounded" />
            </div>

            <div>
                <input name="name" value="<%= product.name %>" type="text" placeholder="Product Name" class="w-full border p-2 rounded" />
            </div>

            <div class="grid grid-cols-2 gap-4">
                <input name="price" value="<%= product.price %>" type="text" placeholder="Price" class="border p-2 rounded" />
                <input name="discount" value="<%= product.discount %>" type="text" placeholder="Discount" class="border p-2 rounded" />
            </div>

            <div class="grid grid-cols-3 gap-4">
                <input name="bgcolor" value="<%= product.bgcolor %>" type="text" placeholder="Background Color" class="border p-2 rounded" />
                <input name="panelcolor" value="<%= product.panelcolor %>" type="text" placeholder="Panel Color" class="border p-2 rounded" />
                <input name="textcolor" value="<%= product.textcolor %>" type="text" placeholder="Text Color" class="border p-2 rounded" />
            </div>

            <button disabled type="submit" class="bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 transition">
                Update Product
            </button> <!-- added disbledr') %> -->
<%- include('../partials/header') %>

<div class="container mx-auto p-6">
    <a href="/owners/products/new" class="bg-blue-600 text-white px-4 py-2 rounded">Create New Product</a>

    <h2 class="text-2xl font-bold mt-6 mb-4">All Products</h2>
    <div class="grid grid-cols-3 gap-6">
        <% products.forEach(product => { %>
            <div class="border rounded p-4 shadow">
                <img src="/<%= product.image %>" class="w-full h-40 object-contain" />
                <h3 class="text-lg font-semibold"><%= product.name %></h3>
                <p>Price: ₹<%= product.price %></p>
                <p>Discount: ₹<%= product.discount %></p>

                <!-- DELETE FORM -->
                <form action="/owners/products/delete/<%= product._id %>?_method=DELETE" method="POST" class="inline">
                    <button type="submit" class="bg-red-600 text-white px-3 py-1 rounded mt-2">Delete</button>
                </form>

                <!-- UPDATE BUTTON -->
                <a href="/owners/products/update/<%= product._id %>" class="bg-yellow-500 text-white px-3 py-1 rounded mt-2 inline-block">Update</a>
            </div>
        <% }) %>
    </div>
</div>

<%- include('../partials/footter') %>
 
